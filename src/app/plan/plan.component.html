<!-- Toolbar -->
<div fxLayout="row" class="toolbar">
    <div fxFlex="grow"></div>

    <div fxLayout="row">
        <div class="icon-div"  (click)="zoomIn()" matTooltip="Zoom in">
            <mat-icon>zoom_in</mat-icon>
        </div>
        <div class="icon-div" (click)="zoomOut()" matTooltip="Zoom out">
            <mat-icon>zoom_out</mat-icon>
        </div>
        <div class="icon-div" (click)="zoomExtents()" matTooltip="Zoom extents">
            <mat-icon svgIcon="zoom_extents"></mat-icon>
        </div>
    </div>
</div>

<div class="footer">
    <p>Press and hold "Alt" to pan</p>
    <p>Press and hold "Ctrl" while clicking space to log coordinates to console</p>
</div>

<svg canvasEvents 
    [style.cursor]="panMode ? 'move' : 'default'"
    #canvas
    class=canvas
    (zoomOut)="zoomOut()"
    (zoomIn)="zoomIn()"
    (panMode)="panMode = $event"
    (move)="move($event)"
    (moveEnd)="moveEnd($event)"
    (window:resize)="onWindowResize()"
    (addNodeMode)="addNodeMode = $event"
    id="canvas">

    <!--Draw rooms-->
    <g *ngFor="let room of rooms"
        [attr.transform]="transform"
        [id]="room.uri"
        [matTooltip]="room.name"
        (click)="addNodeMode ? addNode($event, room) : selectRoom(room)"
        [attr.fill]="room.color ? room.color : '#eee'"
        class="room">

        <!-- Draw polygons -->
        <polygon *ngFor="let polygon of room.polygons" 
            [attr.points]="polygon" 
            class="polygon">
        </polygon>

        <!-- Draw centroids -->
        <circle 
            *ngIf="centroids" 
            [attr.cx]="room.centroid[0]" 
            [matTooltip]="room.centroid" 
            fill="black" 
            [attr.cy]="room.centroid[1]" 
            [attr.r]="scaled*500">
        </circle>

        <!-- Add labels -->
        <text 
            [style.font-size.em]="'12'"
            style = "font-family:roboto; fill: black;"
            text-anchor="middle" 
            alignment-baseline="central"
            [attr.x]="room.centroid[0]"
            [attr.dy]="room.description ? -150 : 0"
            [attr.y]="room.centroid[1]">
            {{room.name}}
        </text>

        <!-- Add description -->
        <text 
            *ngIf = "room.description"
            [style.font-size.em]="'10'"
            style = "font-family:roboto; fill: black;"
            text-anchor="middle" 
            alignment-baseline="central"
            [attr.x]="room.centroid[0]"
            [attr.y]="room.centroid[1]"
            dy="150">
            {{room.description}}
        </text>
    </g>

</svg>